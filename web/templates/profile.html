<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Профиль | Курсы по 3D-печати</title>
    <link rel="stylesheet" href="/web/static/css/main.css">
    <link rel="stylesheet" href="/web/static/css/profile.css">
    <link rel="stylesheet" href="/web/static/css/elements.css">
    <link rel="stylesheet" href="/web/static/notify/simple-notify.css"/>
    <script src="/web/static/js/app.js"></script>
</head>
<body>

{{template "header" .}}

<main class="container">
    <h1>Профиль</h1>
    <div class="profile-container">
        <div class="profile-avatar">{{ printf "%.1s" .response.FirstName }}</div>
        <div class="profile-info">
            <div class="profile-name">
                <h3 id="name">{{.response.LastName}} {{.response.FirstName}} {{.response.Patronymic}}</h3>
                <button class="outline-btn btn-small" id="profileEdit" onclick="openModal(modalConfigs.nameEdit)">Редактировать</button>
            </div>
            <div class="profile-email">
                <span id="email">{{.response.Email}} · {{.response.PhoneNumber}}</span>
            </div>
        </div>
    </div>

    <div id="bought-courses">
        <h3>Приобретенные курсы</h3>
        <div class="courses-grid">
            {{ if .response.Items }}
                {{ range .response.Items }}
                <div class="course-card">
                    <h3>{{ .CourseTitle }}</h3>
                    <div class="description">{{ .CourseDescription }}</div>
                    <div class="courses-buttons">
                        <span class="course-progress">Прогресс: {{ .Progress }}%</span>
                        <a href="/course/{{ .ID }}" class="buy-btn accent-btn">Продолжить</a>
                    </div>
                </div>
                {{ end }}
            {{else}}
                <p class="empty-cards">
                    Пока здесь пусто, но это легко исправить! <a href="/#courses" class="accent-link">Приобрести первый курс</a>
                </p>
            {{ end }}
        </div>

    </div>

    <div class="account-manage">
        <h3>Управление аккаунтом</h3>
        <div class="manage-buttons">
            <button class="primary-btn btn-huge" id="emailEdit" onclick="openModal(modalConfigs.emailEdit)">Изменить почту</button>
            <button class="primary-btn btn-huge" id="phoneEdit" onclick="openModal(modalConfigs.phoneEdit)">Изменить телефон</button>
            <button class="primary-btn btn-huge" id="passwordEdit" onclick="openModal(modalConfigs.passwordEdit)">Изменить пароль</button>
            <button class="primary-btn btn-huge" id="deleteAccount" onclick="openModal(modalConfigs.deleteAccount)">Удалить аккаунт</button>
        </div>
    </div>
</main>

{{template "footer" .}}
</body>
</html>